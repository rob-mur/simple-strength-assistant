---
wave: 4
depends_on: [ "05-03" ]
files_modified:
  - tests/e2e/steps/exercise_library.ts
  - tests/e2e/steps/mod.rs
autonomous: true
---

# Phase 05-04: Integration and Playwright E2E Tests

## Goal
Implement the end-to-end BDD tests for the Exercise List & Search features using Playwright, verifying the entire stack natively in the browser.

## Requirements Covered
- LIB-03
- LIB-04
- LIB-05
- LIB-06

## Context
Now that the unit-level components work flawlessly, we need to guarantee that the user can effectively use these features in a real browser environment via the Playwright scenarios defined in `exercise_list.feature` and `exercise_search.feature`. Only the scenarios tagged `@e2e` will run.

## Tasks

<task>
1. Implement Playwright Step Definitions:
   - Create/Update step definitions in TypeScript (or the appropriate Playwright test files in the `tests/e2e/steps` directory).
   - Write steps to populate the DOM with exercise data (or navigate to a state where they exist), switch to the Library tab, and verify the presence of the lists and badges.
   - Write steps to simulate typing in the search box and verify that the DOM filters the list correctly.
   - Write steps to assert empty state messages appear correctly.
</task>

<task>
2. Validate Configuration:
   - Make sure that Playwright correctly interprets and executes the `@e2e` tags within the feature files.
   - Address any flaky asynchronous timing issues using Playwright's auto-wait functionalities.
</task>

## Verification
- Run `npm run playwright test` (or the equivalent test script `./scripts/ci-test.sh`). The tests matching the `@e2e` tag must pass successfully without intervention.

## Must Haves
- Critical paths are verified in a real browser.
- No new false positives or flaky tests are introduced.
