# Plan 07-01: UI Integration & Refinement

Full integration of tactile components and mobile-first UX polish.

## User Review Required

> [!IMPORTANT]
> This phase replaces the last remaining standard number inputs with tactile controls, completing the "no-typing" goal.

- **Predicted Sync**: Should the inputs automatically reset to the predicted values after every set? (Assumed: Yes, to minimize taps).
- **Starting Weight UI**: Should we use the `TapeMeasure` for initial setup, or just larger buttons? (Plan: use `TapeMeasure` for consistency).

---

## Proposed Changes

### 1. State Synchronization (`src/app.rs`)
- Add `use_effect` to `ActiveSession` to synchronize local input signals (`reps_input`, `rpe_input`, `weight_input`) with `session.predicted`.
- Ensure this sync only happens when the prediction actually changes (e.g., after `log_set` or when first entering the session).

### 2. StartSessionView Refinement (`src/app.rs`)
- Replace standard `input type="number"` for "Starting Weight" with `TapeMeasure`.
- Replace standard `input type="number"` for "Weight Increment" with a set of common increment buttons (1.25, 2.5, 5.0, 10.0) or a smaller `TapeMeasure`.
- Ensure the "Start Session" card is well-sized for mobile.

### 3. ActiveSession Mobile Polish (`src/app.rs`)
- Refine layout of `ActiveSession` to ensure it is comfortable for one-handed (thumb) use.
- Increase spacing between the different input sections (Weight, Reps, RPE).
- Ensure the "Log Set" button is large and placed for easy reach.
- Add visual distinction between the "active input" area and the "completed sets" history.

### 4. Component Refinement
- Adjust `TapeMeasure` (`src/components/tape_measure.rs`) to ensure it handles small screen widths gracefully.
- Ensure `RPESlider` (`src/components/rpe_slider.rs`) hitboxes are large enough for comfortable sliding.

---

## Verification Plan

### Automated Tests
- Run existing database and state tests: `cargo test`
- (Optional) Add a basic UI test if possible, or rely on manual UAT.

### Manual Verification (UAT)
1. **End-to-end Flow**:
   - Start a new session.
   - Use `TapeMeasure` to set starting weight.
   - Log a set using only tactile controls.
   - Verify that the next set's predictions are correctly loaded into the inputs.
   - Log 3 sets and complete session.
2. **Mobile Layout**:
   - Verify layout on simulated mobile device (375px width).
   - Ensure no horizontal scrolling or overlapping elements.
   - Verify keyboard never appears.
